{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tumolabsstudent/Desktop/NEWS-Lilit/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/tumolabsstudent/Desktop/NEWS-Lilit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/tumolabsstudent/Desktop/NEWS-Lilit/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";export var fetchPosts=createAsyncThunk(\"posts/fetchPosts\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var key,url,urlComments,response,data,commentsResponse,comments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:key=\"11e17d603497424db12a983a030e55e3\";url=\"\\n          https://newsapi.org/v2/everything?q=apple&from=2022-09-09&to=2022-09-09&sortBy=popularity&apiKey=\".concat(key);urlComments=\"https://jsonplaceholder.typicode.com/posts/5/comments\";_context.next=5;return axios.get(url);case 5:response=_context.sent;data=response.data.articles;_context.next=9;return axios.get(urlComments);case 9:commentsResponse=_context.sent;comments=commentsResponse.data;// console.log(response);\n// console.log(data);\nreturn _context.abrupt(\"return\",data.map(function(el){return _objectSpread(_objectSpread({},el),{},{id:Math.random()+el.title,comments:comments.map(function(el){return{id:el.id,name:el.name.slice(0,el.name.indexOf(\" \")),body:el.body};})});}));case 12:case\"end\":return _context.stop();}}},_callee);})));","map":{"version":3,"names":["createAsyncThunk","axios","fetchPosts","key","url","urlComments","get","response","data","articles","commentsResponse","comments","map","el","id","Math","random","title","name","slice","indexOf","body"],"sources":["/Users/tumolabsstudent/Desktop/NEWS-Lilit/src/store/slices/posts/postsAPI.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const fetchPosts = createAsyncThunk(\r\n  \"posts/fetchPosts\",\r\n  async function () {\r\n    const key = \"11e17d603497424db12a983a030e55e3\";\r\n    const url = `\r\n          https://newsapi.org/v2/everything?q=apple&from=2022-09-09&to=2022-09-09&sortBy=popularity&apiKey=${key}`;\r\n\r\n    const urlComments = `https://jsonplaceholder.typicode.com/posts/5/comments`;\r\n    const response = await axios.get(url);\r\n    const data = response.data.articles;\r\n\r\n    const commentsResponse = await axios.get(urlComments);\r\n    const comments = commentsResponse.data;\r\n    // console.log(response);\r\n    // console.log(data);\r\n\r\n    return data.map((el) => ({\r\n      ...el,\r\n      id: Math.random() + el.title,\r\n      comments: comments.map((el) => ({\r\n        id: el.id,\r\n        name: el.name.slice(0, el.name.indexOf(\" \")),\r\n        body: el.body,\r\n      })),\r\n    }));\r\n  }\r\n);\r\n"],"mappings":"4YAAA,OAASA,gBAAT,KAAiC,kBAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,WAAU,CAAGF,gBAAgB,CACxC,kBADwC,wEAExC,qMACQG,GADR,CACc,kCADd,CAEQC,GAFR,wHAG2GD,GAH3G,EAKQE,WALR,+EAMyBJ,MAAK,CAACK,GAAN,CAAUF,GAAV,CANzB,QAMQG,QANR,eAOQC,IAPR,CAOeD,QAAQ,CAACC,IAAT,CAAcC,QAP7B,uBASiCR,MAAK,CAACK,GAAN,CAAUD,WAAV,CATjC,QASQK,gBATR,eAUQC,QAVR,CAUmBD,gBAAgB,CAACF,IAVpC,CAWE;AACA;AAZF,gCAcSA,IAAI,CAACI,GAAL,CAAS,SAACC,EAAD,wCACXA,EADW,MAEdC,EAAE,CAAEC,IAAI,CAACC,MAAL,GAAgBH,EAAE,CAACI,KAFT,CAGdN,QAAQ,CAAEA,QAAQ,CAACC,GAAT,CAAa,SAACC,EAAD,QAAS,CAC9BC,EAAE,CAAED,EAAE,CAACC,EADuB,CAE9BI,IAAI,CAAEL,EAAE,CAACK,IAAH,CAAQC,KAAR,CAAc,CAAd,CAAiBN,EAAE,CAACK,IAAH,CAAQE,OAAR,CAAgB,GAAhB,CAAjB,CAFwB,CAG9BC,IAAI,CAAER,EAAE,CAACQ,IAHqB,CAAT,EAAb,CAHI,IAAT,CAdT,yDAFwC,GAAnC"},"metadata":{},"sourceType":"module"}