{"ast":null,"code":"import React,{useEffect}from\"react\";import DesignPhotography from\"../../Components/DesignPhotography/DesignPhotography\";import Pagination from\"../../Components/Pagination/Pagination\";import{useDispatch,useSelector}from\"react-redux\";import{selectPosts}from\"../../store/slices/posts/postsSlice\";import{fetchPosts}from\"../../store/slices/posts/postsAPI\";import{setPages}from\"../../store/slices/pages/pagesSlice\";import{selectPages}from\"../../store/slices/pages/pagesSlice\";import{selectSearch}from\"../../store/slices/search/searchSlice\";import\"./Home.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(_ref){var data=_ref.data;var posts=useSelector(selectPosts);var dispatch=useDispatch();var _useSelector=useSelector(selectPages),currentPage=_useSelector.currentPage;var search=useSelector(selectSearch);useEffect(function(){dispatch(setPages(posts.data.filter(function(el){return el.title.includes(search);}).length));},[search]);useEffect(function(){if(!posts.data.length){dispatch(fetchPosts());}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"top\",children:/*#__PURE__*/_jsxs(\"section\",{id:\"bricks\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row masonry\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bricks-wrapper\",children:posts.data.filter(function(el){return el.title.includes(search);}).filter(function(el,idx){return idx>=(currentPage-1)*10&&idx<currentPage*10;}).map(function(el){return/*#__PURE__*/_jsx(DesignPhotography,{id:el.id,title:el.title,urlToImage:el.urlToImage,description:el.description,source:el.source.name,url:el.url,author:el.author},el.id);})})}),/*#__PURE__*/_jsx(Pagination,{})]})});}export default Home;","map":{"version":3,"names":["React","useEffect","DesignPhotography","Pagination","useDispatch","useSelector","selectPosts","fetchPosts","setPages","selectPages","selectSearch","Home","data","posts","dispatch","currentPage","search","filter","el","title","includes","length","idx","map","id","urlToImage","description","source","name","url","author"],"sources":["/Users/tumolabsstudent/Desktop/NEWS-Lilit/src/Components/Home/Home.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport DesignPhotography from \"../../Components/DesignPhotography/DesignPhotography\";\r\nimport Pagination from \"../../Components/Pagination/Pagination\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectPosts } from \"../../store/slices/posts/postsSlice\";\r\nimport { fetchPosts } from \"../../store/slices/posts/postsAPI\";\r\nimport { setPages } from \"../../store/slices/pages/pagesSlice\";\r\nimport { selectPages } from \"../../store/slices/pages/pagesSlice\";\r\nimport { selectSearch } from \"../../store/slices/search/searchSlice\";\r\nimport \"./Home.css\"\r\n\r\nfunction Home({data}) {\r\n  const posts = useSelector(selectPosts);\r\n  const dispatch = useDispatch();\r\n  const { currentPage } = useSelector(selectPages)\r\n  const search = useSelector(selectSearch)\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(setPages(posts.data.filter(el => el.title.includes(search)).length))\r\n  }, [search])\r\n\r\n  \r\n  useEffect(() => {\r\n    if(!posts.data.length){\r\n        dispatch(fetchPosts());\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"top\">\r\n        <section id=\"bricks\">\r\n        <div className=\"row masonry\">\r\n          <div className=\"bricks-wrapper\">\r\n            {\r\n              posts.data.filter(el => el.title.includes(search)).filter((el, idx) => idx >= (currentPage - 1) * 10 && idx < currentPage * 10).map((el) => (\r\n              <DesignPhotography\r\n                key={el.id}\r\n                id={el.id}\r\n                title={el.title}\r\n                urlToImage={el.urlToImage}\r\n                description={el.description}\r\n                source={el.source.name}\r\n                url={el.url}\r\n                author={el.author}\r\n              />\r\n            ))\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <Pagination />\r\n   \r\n      </section>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,kBAAP,KAA8B,sDAA9B,CACA,MAAOC,WAAP,KAAuB,wCAAvB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,qCAA5B,CACA,OAASC,UAAT,KAA2B,mCAA3B,CACA,OAASC,QAAT,KAAyB,qCAAzB,CACA,OAASC,WAAT,KAA4B,qCAA5B,CACA,OAASC,YAAT,KAA6B,uCAA7B,CACA,MAAO,YAAP,C,wFAEA,QAASC,KAAT,MAAsB,IAAPC,KAAO,MAAPA,IAAO,CACpB,GAAMC,MAAK,CAAGR,WAAW,CAACC,WAAD,CAAzB,CACA,GAAMQ,SAAQ,CAAGV,WAAW,EAA5B,CACA,iBAAwBC,WAAW,CAACI,WAAD,CAAnC,CAAQM,WAAR,cAAQA,WAAR,CACA,GAAMC,OAAM,CAAGX,WAAW,CAACK,YAAD,CAA1B,CAGAT,SAAS,CAAC,UAAM,CACda,QAAQ,CAACN,QAAQ,CAACK,KAAK,CAACD,IAAN,CAAWK,MAAX,CAAkB,SAAAC,EAAE,QAAIA,GAAE,CAACC,KAAH,CAASC,QAAT,CAAkBJ,MAAlB,CAAJ,EAApB,EAAmDK,MAApD,CAAT,CAAR,CACD,CAFQ,CAEN,CAACL,MAAD,CAFM,CAAT,CAKAf,SAAS,CAAC,UAAM,CACd,GAAG,CAACY,KAAK,CAACD,IAAN,CAAWS,MAAf,CAAsB,CAClBP,QAAQ,CAACP,UAAU,EAAX,CAAR,CACH,CACF,CAJQ,CAIN,EAJM,CAAT,CAMA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACI,iBAAS,EAAE,CAAC,QAAZ,wBACA,YAAK,SAAS,CAAC,aAAf,uBACE,YAAK,SAAS,CAAC,gBAAf,UAEIM,KAAK,CAACD,IAAN,CAAWK,MAAX,CAAkB,SAAAC,EAAE,QAAIA,GAAE,CAACC,KAAH,CAASC,QAAT,CAAkBJ,MAAlB,CAAJ,EAApB,EAAmDC,MAAnD,CAA0D,SAACC,EAAD,CAAKI,GAAL,QAAaA,IAAG,EAAI,CAACP,WAAW,CAAG,CAAf,EAAoB,EAA3B,EAAiCO,GAAG,CAAGP,WAAW,CAAG,EAAlE,EAA1D,EAAgIQ,GAAhI,CAAoI,SAACL,EAAD,qBACpI,KAAC,iBAAD,EAEE,EAAE,CAAEA,EAAE,CAACM,EAFT,CAGE,KAAK,CAAEN,EAAE,CAACC,KAHZ,CAIE,UAAU,CAAED,EAAE,CAACO,UAJjB,CAKE,WAAW,CAAEP,EAAE,CAACQ,WALlB,CAME,MAAM,CAAER,EAAE,CAACS,MAAH,CAAUC,IANpB,CAOE,GAAG,CAAEV,EAAE,CAACW,GAPV,CAQE,MAAM,CAAEX,EAAE,CAACY,MARb,EACOZ,EAAE,CAACM,EADV,CADoI,EAApI,CAFJ,EADF,EADA,cAoBA,KAAC,UAAD,IApBA,GADJ,EADF,CA4BD,CAED,cAAeb,KAAf"},"metadata":{},"sourceType":"module"}